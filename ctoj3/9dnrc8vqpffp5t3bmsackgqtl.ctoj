public static int finddqsplit(pointnlink_t pnlp) {
    int index;
    for (index = dq.getInt("fpnlpi"); index < dq.getInt("apex"); index++)
	if (ccw(dq.getPtr("pnlps").plus(index + 1).getPtr().getPtr("pp"), dq.getPtr("pnlps").plus(index).getPtr().getPtr("pp"), pnlp.getPtr("pp")) ==
	    1)
	    return index;
    for (index = dq.getInt("lpnlpi"); index > dq.getInt("apex"); index--)
	if (ccw(dq.getPtr("pnlps").plus(index - 1).getPtr().getPtr("pp"), dq.getPtr("pnlps").plus(index).getPtr().getPtr("pp"), pnlp.getPtr("pp")) ==
	    2)
	    return index;
    return dq.getInt("apex");
}

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
static int finddqsplit(pointnlink_t * pnlp)
{
    int index;
    for (index = dq.fpnlpi; index < dq.apex; index++)
	if (ccw(dq.pnlps[index + 1]->pp, dq.pnlps[index]->pp, pnlp->pp) ==
	    1)
	    return index;
    for (index = dq.lpnlpi; index > dq.apex; index--)
	if (ccw(dq.pnlps[index - 1]->pp, dq.pnlps[index]->pp, pnlp->pp) ==
	    2)
	    return index;
    return dq.apex;
}

